<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Inicio</a></li>
        <li class="breadcrumb-item active" aria-current="page">Reserva</li>
    </ol>
</nav>

<div>
    <div class="arrow-steps clearfix mx-auto " style="width: 900px;">
        <div [ngClass]=" 'step ' + arreglo[variable - 0]"> <span> Elige servicio </span> </div>
        <div [ngClass]=" 'step ' + arreglo[variable - 1]"> <span>Elige dia y hora</span> </div>
        <div [ngClass]=" 'step ' + arreglo[variable - 2]"> <span> Reserva Exitosa</span> </div>
    </div>
</div>


<div class="tab-content" id="pills-tabContent">
    <!--Inicio Servicio-->
    <div class="tab-pane fade show active" id="pills-servicio" role="tabpanel" aria-labelledby="pills-servicio-tab">
        <h1 style="margin-left: 30px;">Elegir Servicios</h1>
        <div class="row" style="padding: 2%;margin: 0;">

            <div class="col-3 z-depth-1" style="margin-right: 30px; padding: 3%;">
                <div>
                    <h5 class="mt-0" style="margin-bottom: 4%;">Profesionales</h5>
                    <div class="hr">
                    </div>
                    <select [(ngModel)]="esteticista" class="form-control" id="exampleFormControlSelect1" style="margin-top: 5%;" (ngModelChange)="serviciosofrecidos()">
                        <option  [ngValue]="0"  > Ninguno Seleccionado</option>
                        <option *ngFor="let profesional of listProfesionales" [ngValue]="profesional" > {{profesional.nombre}}</option>                       
                    </select>
                    <h5 style="margin-bottom: 4%; margin-top: 30%;">Servicios Anteriores</h5>
                    <div class="hr">

                    </div>

                </div>
            </div>
            <div class="col-8">

                <div class="overflow-auto" style="height:500px">
                    <h5 class="mt-0" style="margin-bottom: 4%;">Lista de Servicios</h5>
                    <div class="list-group" *ngFor="let servicio of listServicios">
                        <a class="list-group-item list-group-item-action ">
                            <div class="media">
                                <img src="http://localhost:8080/servicio/uploads/img/{{servicio.foto}}" class="align-self-center mr-3" style="width: 80px;height:80px;">
                                <div class="media-body">
                                    <h5 class="mt-0">{{servicio.nombre}}</h5>
                                    <p> {{servicio.descripcion}}</p>
                                    <p><a class="btn btn-success btn-lg float-right" (click)="press(servicio)" id="pills-fecha-tab" data-toggle="pill" href="#pills-fecha" role="tab" aria-controls="pills-fecha" aria-selected="true">Reserva</a></p>

                                </div>

                            </div>

                        </a>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="tab-pane fade" id="pills-fecha" role="tabpanel" aria-labelledby="pills-fecha-tab">
        <div class="row" style="padding: 2%;">
            <div class="col-2" style="margin-bottom: 30px;">

            </div>
            <div class="col-3" style="margin-bottom: 30px; ">
                <ngb-datepicker #dp [(ngModel)]="model" (select)="Select()"></ngb-datepicker>


            </div>
            <div style=" width: 1px;background: #BDBDBD;">
            </div>
            <div class="col-5" style="margin-bottom: 30px;padding-left: 20px;">
                <h5 class="mt-0" style="margin-bottom: 4%;">Profesional</h5>
                <select [(ngModel)]="esteticista" (change)="Select()" class="form-control" id="exampleFormControlSelect1" style="margin-top: 5%;">
                        <option  [ngValue]="0" > Ninguno Seleccionado</option>
                        <option *ngFor="let profesional of listProfesionales"  [ngValue]="profesional"> {{profesional.nombre}}</option>                       
                    </select>
                <h3>Horarios</h3>
                <select [(ngModel)]="hora" class="form-control" id="horario" style="margin-top: 5%;">
                    <option  [ngValue]="0" > Ninguno Seleccionado</option>
                    <option *ngFor="let horas of bloquesPosibles"  [ngValue]="horas"> Hora de Inicio:{{horas.horaInicio}} Hora de Fin:{{horas.horaFin}}</option>                       
                </select>
                <a class="btn btn-outline-success btn-lg btn-block" (click)="save()" id="pills-contact-tab" data-toggle="pill" href="#pills-contacto" role="tab" aria-controls="pills-contacto" aria-selected="true">Confirmar</a>
            </div>
        </div>
    </div>
    <div class="tab-pane fade" id="pills-contacto" role="tabpanel" aria-labelledby="pills-contact-tab">
        <div *ngIf="reserva">
            <div class="z-depth-1" style="margin: 30px;text-align: center;">
                <h1>Reserva Realizada con Exito</h1>
                <h2>Detalles de la reserva</h2>
                <h5>Nombre del servicio: {{reserva.servicio.nombre}}</h5>
                <h5>Duraci√≥n del servicio: {{reserva.servicio.duracion}}</h5>
                <h5>Precio del servicio: {{reserva.servicio.precio}}</h5>
                <h5>Nombre del cliente: {{reserva.cliente.nombre}} {{reserva.cliente.apellido}}</h5>
                <h5>Correo: {{reserva.cliente.email}}</h5>
                <h5>Fecha: {{hora.horarioProfesional[0].fecha}}</h5>
                <h5>Nombre del Profesional: {{hora.horarioProfesional[0].profesional.nombre}} {{hora.horarioProfesional[0].profesional.apellido}}</h5>
                <h5>Hora de Atencion: {{hora.horarioProfesional[0].bloque_horario.horaInicio}}</h5>
            </div>

        </div>


    </div>
</div>